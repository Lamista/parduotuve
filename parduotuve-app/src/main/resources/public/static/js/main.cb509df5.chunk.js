(this["webpackJsonpparduotuve-ui"]=this["webpackJsonpparduotuve-ui"]||[]).push([[0],{103:function(e,t,a){},18:function(e,t,a){e.exports=a.p+"static/media/samsung.8ae33045.jpg"},19:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAIAAAAHjs1qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MjY4QTU4ODI2NkRFMjExQTA5QkU3NzkzRUE5Qjc5QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MTg5MDlGMEZFRUUxMUU0QTc2QkNEMjY5OTFDODIxMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MTg5MDlFRkZFRUUxMUU0QTc2QkNEMjY5OTFDODIxMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQkY0NTk2QjEwQjRFMjExQkVBN0JFQTA3MEQ2OTg2QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MjY4QTU4ODI2NkRFMjExQTA5QkU3NzkzRUE5Qjc5QiIvPiA8L3JkZjpEZXNjcmlwdGlv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"},200:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(72),o=a.n(c),l=a(5),u=r.a.createContext(null),s=a(10),i=function e(){var t=this;Object(s.a)(this,e),this.getCurrentUser=function(){return t._currentUser},this.getCartCount=function(){return t._cartCount},this.setCurrentUser=function(e){t._currentUser=e},this.setCartCount=function(e){t._cartCount=e},this.updateCurrentUser=function(){},this.updateCartCount=function(){},this._currentUser=void 0,this._cartCount=0},d=a(3),m=a(6),p=a(2),g=a.n(p),h="/parduotuve",b=a(20),v=a(17),f=function(e){var t=e.cartCount;return r.a.createElement("h2",null,r.a.createElement(b.a,{icon:v.b})," ",t)},E=function(){var e=Object(n.useContext)(u).userCartService,t=Object(n.useState)(e.getCurrentUser()),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.getCartCount()),s=Object(m.a)(l,2),i=s[0],d=s[1];return e.updateCurrentUser=function(){return o(e.getCurrentUser())},e.updateCartCount=function(){return d(e.getCartCount())},Object(n.useEffect)((function(){void 0!==c&&g.a.get("".concat(h,"/api/users/").concat(c,"/cart-products")).then((function(t){e.setCartCount(t.data.length()),e.updateCartCount()})).catch((function(e){return console.log(e)}))}),[c,i,e]),r.a.createElement(f,{cartCount:i})},C=function(e){var t=e.handleLogin,a=e.handleLogout,n=e.currentUser,c=e.handleChange,o=e.username;return void 0===n?(console.log("undefined"),r.a.createElement("form",{className:"navbar-form form-inline",onSubmit:t},r.a.createElement("input",{onChange:c,className:"form-control mr-md-2",type:"text",name:"username",placeholder:"Username",value:o,required:!0}),r.a.createElement("button",{className:"btn btn-primary mt-2 mt-lg-0",type:"submit"},"Login ",r.a.createElement(b.a,{icon:v.c})))):(console.log("defined"),r.a.createElement("div",{className:"form-inline"},r.a.createElement("span",{className:"form-control mr-sm-2 ml-md-3",type:"text"},"Hello ",n,"!"),r.a.createElement("button",{className:"btn btn-primary mt-2 mt-lg-0",onClick:a},"Logout ",r.a.createElement(b.a,{icon:v.d}))))},N=function(){var e=Object(n.useContext)(u).userCartService,t=Object(d.f)(),a=Object(n.useState)(e.getCurrentUser()),c=Object(m.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),i=Object(m.a)(s,2),p=i[0],b=i[1];e.updateCurrentUser=function(){return l(e.getCurrentUser(),console.log(e.getCurrentUser()))};return r.a.createElement(C,{handleChange:function(e){b(e.target.value)},handleLogin:function(a){a.preventDefault();var n=a.target.username.value;e.setCurrentUser(n),e.updateCurrentUser(),b(""),g.a.post("".concat(h,"/api/users/"),{username:p,firstName:"string",lastName:"string",email:"string",age:0}).then((function(){return g.a.get("".concat(h,"/api/users/").concat(n,"/cart-products")).then((function(a){e.setCartCount(a.data.length),e.updateCartCount(),t.push("/")})).catch((function(e){return console.log(e)}))})).then((function(){return console.log("success")})).catch((function(e){return console.log(e)}))},handleLogout:function(a){a.preventDefault(),e.setCurrentUser(void 0),l(void 0),e.updateCurrentUser(),e.setCartCount(0),e.updateCartCount(),t.push("/")},currentUser:o,username:p})},A=function(){return r.a.createElement("nav",{className:"navbar navbar-light navbar-expand-md",style:{backgroundColor:"#e3f2fd"}},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement(l.c,{className:"nav-link",exact:!0,to:"/"},"Home"),r.a.createElement(l.c,{className:"nav-link",to:"/admin/products"},"Admin"),r.a.createElement(N,null)),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement(l.c,{className:"nav-link",to:"/cart-products"},r.a.createElement(E,null)))))},j=a(12),O=a(14),y=a(13),S=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},P=a(32),D=a(18),x=a.n(D),H=a(19),B=a.n(H),U=(a(103),function(e){var t=e.id,a=e.title,n=e.image,c=e.description,o=e.price,u=e.quantity,s="/samsung.jpg"===n?x.a:B.a;return r.a.createElement("div",{className:"col mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("img",{src:s,className:"card-img-top",alt:a}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Price: ",Math.round(100*o)/100,"\u20ac")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"In stock: ",u)))),r.a.createElement(l.b,{to:"/products/".concat(t),className:"btn btn-primary"},"Details")))}),G=a(74),Q=function(e){var t=e.products,a={dataBar:{labels:["0-10","10-50","50-100","100-1000","1000 and more"],datasets:[{label:"Qty of Products at price range (\u20ac)",data:[t.filter((function(e){return e.price<10})).length,t.filter((function(e){return e.price>=10&&e.price<50})).length,t.filter((function(e){return e.price>=50&&e.price<100})).length,t.filter((function(e){return e.price>=100&&e.price<1e3})).length,t.filter((function(e){return e.price>=1e3})).length,3],backgroundColor:["rgba(255, 134,159,0.4)","rgba(98,  182, 239,0.4)","rgba(255, 218, 128,0.4)","rgba(113, 205, 205,0.4)","rgba(170, 128, 252,0.4)","rgba(255, 177, 101,0.4)"],borderWidth:2,borderColor:["rgba(255, 134, 159, 1)","rgba(98,  182, 239, 1)","rgba(255, 218, 128, 1)","rgba(113, 205, 205, 1)","rgba(170, 128, 252, 1)","rgba(255, 177, 101, 1)"]}]},barChartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}],yAxes:[{gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{beginAtZero:!0,stepSize:1}}]}}};return r.a.createElement("div",null,r.a.createElement("h3",{className:"mt-5"},"Products at specific price range"),r.a.createElement(G.Bar,{data:a.dataBar,options:a.barChartOptions}))},k=function(e){var t=e.products,a=e.search,n=e.handleSearchChange;return r.a.createElement("div",{className:"container"},r.a.createElement("input",{className:"my-3",type:"text",value:a,onChange:n,placeholder:"Search"}),r.a.createElement("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4"},t.map((function(e){var t=e.id,a=Object(P.a)(e,["id"]);return r.a.createElement(U,Object.assign({key:t,id:t},a))}))),r.a.createElement(Q,{products:t}))},w=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){console.log("Mount"),g.a.get("".concat(h,"/api/products")).then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){return console.log(e)}))},e.handleSearchChange=function(t){e.setState({search:t.target.value}),g.a.get("".concat(h,"/api/products/names/").concat(t.target.value)).then((function(t){return e.setState({newProducts:t.data})})).catch((function(e){return console.log(e)}))},e.state={products:[],search:"",newProducts:[]},e}return Object(j.a)(a,[{key:"render",value:function(){return console.log("products length: "+this.state.products.length),console.log("search length: "+this.state.search.length),this.state.products.length>0&&0===this.state.search.length?r.a.createElement(k,{products:this.state.products,handleSearchChange:this.handleSearchChange,search:this.state.search}):this.state.products.length>0&&this.state.search.length>0?r.a.createElement(k,{products:this.state.newProducts,handleSearchChange:this.handleSearchChange,search:this.state.search}):r.a.createElement(S,null)}}]),a}(n.Component),z=function(e){var t=e.productId,a=e.title,n=e.deleteProduct;return console.log(t),r.a.createElement("div",{className:"modal fade",id:"staticBackdrop".concat(t),"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"Are you sure you want to remove item?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:n,type:"button","data-toggle":"modal",className:"btn btn-primary","data-dismiss":"modal",value:t},"Yes"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"No")))))},R=(a(198),function(e){var t=e.products,a=e.deleteProduct,c=Object(n.useContext)(u).userCartService,o=Object(n.useState)(c.getCurrentUser()),s=Object(m.a)(o,2),i=s[0],d=s[1];return c.updateCurrentUser=function(){return d(c.getCurrentUser())},Object(n.useEffect)((function(){void 0!==i&&g.a.get("".concat(h,"/api/users/").concat(i,"/cart-products")).then((function(e){c.setCartCount(e.data.length),c.updateCartCount()})).catch((function(e){return console.log(e)}))}),[t,i,c]),t.map((function(e,t){var n=e.id,c=e.image,o=e.title,u="/samsung.jpg"===c?x.a:B.a;return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,r.a.createElement("img",{src:u,className:"card-img-top",style:{width:50,height:50},alt:o})),r.a.createElement("td",null,r.a.createElement(l.b,{className:"text-decoration-none mr-3",to:"/admin/products/".concat(n)},o," ",r.a.createElement(b.a,{icon:v.a}))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger","data-toggle":"modal","data-target":"#staticBackdrop".concat(n),value:n},"Delete  ",r.a.createElement(b.a,{icon:v.e}))),r.a.createElement("td",null,r.a.createElement(z,{productId:n,title:o,deleteProduct:a})))}))}),Z=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){g.a.get("".concat(h,"/api/products")).then((function(t){return e.setState({products:t.data})})).catch((function(e){return console.log(e)}))},e.deleteProduct=function(t){t.preventDefault(),g.a.delete("".concat(h,"/api/products/").concat(t.target.value)).then((function(){g.a.get("".concat(h,"/api/products")).then((function(t){return e.setState({products:t.data})}))})).catch((function(e){return console.log(e)}))},e.state={products:[]},e}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement(l.b,{to:"/admin/products/new",className:"btn btn-primary mb-5"},"Add new product"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"}),r.a.createElement("th",{scope:"col"}))),this.state.products.length>0&&r.a.createElement("tbody",null,r.a.createElement(R,{products:this.state.products,deleteProduct:this.deleteProduct}))))}}]),a}(n.Component),F=function(e){var t=e.message,a="";return a="Success"===t?"alert-success":"alert-danger",r.a.createElement("div",{className:"alert ".concat(a," mt-2 w-50"),role:"alert"},t)},L=function(e){var t=e.product,a=t.id,c=t.title,o=t.image,s=t.description,i=t.price,d=t.quantity,p=Object(n.useContext)(u).userCartService,b=Object(n.useState)(p.getCurrentUser()),v=Object(m.a)(b,2),f=v[0],E=v[1],C=Object(n.useState)(!1),N=Object(m.a)(C,2),A=N[0],j=N[1],O=Object(n.useState)(""),y=Object(m.a)(O,2),S=y[0],P=y[1];p.updateCurrentUser=function(){return E(p.getCurrentUser())};var D="/samsung.jpg"===o?x.a:B.a;return r.a.createElement("div",null,r.a.createElement("div",{className:"media"},r.a.createElement("img",{className:"align-self-start mr-3",src:D,alt:c,style:{height:"25rem"}}),r.a.createElement("div",{className:"media-body mt-3"},r.a.createElement("h5",{className:"mt-0"},c),r.a.createElement("p",null,s),r.a.createElement("p",null,"Price: ",i.toFixed(2),"\u20ac"),r.a.createElement("p",null,"In stock: ",d))),r.a.createElement("div",{className:"row ml-5 mt-3"},void 0!==f?r.a.createElement("button",{className:"btn btn-primary mr-1",onClick:function(e){e.preventDefault(),g.a.post("".concat(h,"/api/users/").concat(f,"/cart-products"),{id:a,image:o,title:c,description:s,price:i,quantity:d}).then((function(e){console.log(e.data),console.log(e.data.products),console.log(e.data.message),console.log(e.data.product),p.setCartCount(e.data.cartSize.length),p.updateCartCount(),P(e.data.message),j(!0),setTimeout((function(){return j(!1)}),1e3)})).catch((function(e){return console.log(e)}))}},"Add to cart"):r.a.createElement("div",null),r.a.createElement(l.b,{to:"/",className:"btn btn-secondary"},"Back")),A&&r.a.createElement(F,{message:S}))},M=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log(n.props.match.params.id),g.a.get("".concat(h,"/api/products/").concat(n.props.match.params.id)).then((function(e){return n.setState({product:e.data})})).catch((function(e){return console.log(e)}))},n.state={product:null},n}return Object(j.a)(a,[{key:"render",value:function(){return null!==this.state.product?r.a.createElement("div",{className:"container"},r.a.createElement(L,{product:this.state.product})):r.a.createElement(S,null)}}]),a}(n.Component),q=a(75),I=function(e){var t=e.handleChange,a=e.handleSubmit,n=Object(P.a)(e,["handleChange","handleSubmit"]),c=n.title,o=n.image,l=n.description,u=n.price,s=n.quantity;return r.a.createElement("div",null,r.a.createElement("form",{className:"container my-5",onSubmit:a},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productTitle"},"Title"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productTitle",name:"title",value:c,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productImage"},"Image"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productImage",name:"image",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productDescription"},"Description"),r.a.createElement("textarea",{onChange:t,className:"form-control",id:"productDescription",rows:"3",name:"description",value:l})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"productPrice"},"Price"),r.a.createElement("input",{onChange:t,type:"number",step:"0.01",min:"0",className:"form-control",id:"productPrice",name:"price",value:u,required:!0})),r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"productQuantity"},"Quantity"),r.a.createElement("input",{onChange:t,type:"number",min:"0",className:"form-control",id:"productQuantity",name:"quantity",value:s}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))},T=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.state.id>0?g.a.put("".concat(h,"/api/products/").concat(n.state.id),{description:n.state.description,id:n.state.id,image:n.state.image,price:n.state.price,quantity:n.state.quantity,title:n.state.title}).then((function(){return n.props.history.push("/admin/products")})):(g.a.post("".concat(h,"/api/products"),{description:e.target.description.value,id:n.state.id,image:e.target.image.value,price:e.target.price.value,quantity:e.target.quantity.value,title:e.target.title.value}).then((function(){return n.props.history.push("/admin/products")})),n.setState({title:"",image:"",description:"",price:"",quantity:""}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(q.a)({},a,r))},n.state={title:"",image:"",description:"",price:"",quantity:"",id:0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id>0&&g.a.get("".concat(h,"/api/products/").concat(this.props.match.params.id)).then((function(t){return e.setState({id:t.data.id||"",title:t.data.title||"",description:t.data.description||"",image:t.data.image||"",price:t.data.price||"",quantity:t.data.quantity||""})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(I,Object.assign({handleSubmit:this.handleSubmit,handleChange:this.handleChange},this.state))}}]),a}(n.Component),J=Object(d.g)(T),Y=(a(200),function(e){var t=e.userProducts,a=e.deleteFromCart,n=e.addToCart,c=new Map;t.forEach((function(e){if(c.has(e.id)){var t=c.get(e.id)[1];t++,c.set(e.id,[e,t])}else c.set(e.id,[e,1])}));var o=t.reduce((function(e,t){return e+t.price}),0);if(c.size>0)return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Total"))),Array.from(c).map((function(e){var t=Object(m.a)(e,2),c=t[0],o=t[1];return r.a.createElement("tbody",{key:c},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:"/samsung.jpg"===o[0].image?x.a:B.a,className:"card-img-top",style:{width:50,height:50},alt:o[0].title})),r.a.createElement("td",null,o[0].title),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-info w-25",onClick:n,value:c},"+"),r.a.createElement("span",{className:"text-large mx-4"},o[1]),r.a.createElement("button",{className:"btn btn-info w-25",onClick:a,value:c},"-")),r.a.createElement("td",null,(o[1]*o[0].price).toFixed(2))))}))),r.a.createElement("h3",{className:"text-right"},"Subtotal: ",o.toFixed(2)," \u20ac"))}),X=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=e.context.userCartService.getCurrentUser();void 0!==t&&g.a.get("".concat(h,"/api/users/").concat(t,"/cart-products")).then((function(t){return e.setState({userProducts:t.data})})).catch((function(e){return console.log(e)}))},e.deleteFromCart=function(t){var a=e.context.userCartService.getCurrentUser();console.log(t.target.type),console.log(t.target.value),g.a.delete("".concat(h,"/api/users/").concat(a,"/cart-products/").concat(t.target.value)).then((function(t){e.setState({userProducts:t.data}),e.context.userCartService.setCartCount(t.data.length),e.context.userCartService.updateCartCount(),console.log(t.data)})).catch((function(e){return console.log(e)}))},e.addToCart=function(t){var a=t.target.value,n=e.context.userCartService.getCurrentUser();g.a.post("".concat(h,"/api/users/").concat(n,"/cart-products"),{id:a}).then((function(t){e.setState({userProducts:t.data.cartSize}),e.context.userCartService.setCartCount(t.data.cartSize.length),e.context.userCartService.updateCartCount()})).catch((function(e){return console.log(e)}))},e.state={userProducts:[]},e}return Object(j.a)(a,[{key:"render",value:function(){return this.state.userProducts.length>0?r.a.createElement(Y,{deleteFromCart:this.deleteFromCart,addToCart:this.addToCart,userProducts:this.state.userProducts}):r.a.createElement("div",{className:"d-flex justify-content-center"},void 0!==this.context.userCartService.getCurrentUser()?r.a.createElement("h1",null,"No products selected"):r.a.createElement("h1",null,"Please login"))}}]),a}(n.Component);X.contextType=u;var W=X,V=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"m-5"},"Route did not match",r.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){return e.history.push("/")}},"Go Home")))},K=(a(201),a(202),function(e){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:w}),r.a.createElement(d.a,{path:"/products/:id",component:M}),r.a.createElement(d.a,{path:"/products",component:w}),r.a.createElement(d.a,{path:"/admin/products/new",component:J}),r.a.createElement(d.a,{path:"/admin/products/:id",component:J}),r.a.createElement(d.a,{path:"/admin/products",component:Z}),r.a.createElement(d.a,{path:"/cart-products",component:W}),r.a.createElement(d.a,{path:"*",component:V}),r.a.createElement(d.a,{component:V})),e.children)});a(203);document.title="E-shop";var _=new i;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{basename:"/parduotuve"},r.a.createElement(u.Provider,{value:{userCartService:_}},r.a.createElement(K,null)))),document.getElementById("root"))},76:function(e,t,a){e.exports=a(204)}},[[76,1,2]]]);
//# sourceMappingURL=main.cb509df5.chunk.js.map